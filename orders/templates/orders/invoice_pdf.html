<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Invoice #{{ invoice.invoice_number }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: 'Arial', sans-serif; font-size: 12px; }
    .table th, .table td { padding: 0.3rem; }
    .header { text-align: center; margin-bottom: 20px; }
    .totals { margin-top: 15px; }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h3>{{ invoice.order.restaurant.name }}</h3>
    <h4>Invoice #{{ invoice.invoice_number }}</h4>
    <small>Order #{{ invoice.order.id }} | {{ invoice.created_at|date:"d M Y H:i" }}</small>
  </div>

  <p><strong>Cashier:</strong> {{ invoice.cashier.username }}</p>
  <p><strong>Payment Method:</strong> {{ invoice.get_payment_method_display }}</p>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Item</th>
        <th>Qty</th>
        <th>Unit Price</th>
        <th>Tax</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in invoice.order.items.all %}
      <tr>
        <td>{{ item.item.name }}</td>
        <td>{{ item.quantity }}</td>
        <td>${{ item.unit_price }}</td>
        <td>{{ item.tax_rate }}%</td>
        <td>${{ item.line_total }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="totals">
    <p><strong>Subtotal:</strong> ${{ invoice.order.subtotal }}</p>
    <p><strong>Tax Total:</strong> ${{ invoice.order.tax_total }}</p>
    <h5>Grand Total: ${{ invoice.order.grand_total }}</h5>
  </div>
</div>
</body>
</html>
